FROM gcr.io/ornate-axiom-187403/pytorch:0.4.0.2

ARG wheel_filename

RUN mkdir -p /app

#RUN pip install package

COPY ./dist/*.whl /app/
COPY ./examples /app/examples

WORKDIR /app

#CMD ["pip", "install", "oz-0.0.1-cp36-cp36m-linux_x86_64.whl"]
#CMD ["python", "./examples/misc/test.py"]
#RUN pip install oz-0.0.1-cp36-cp36m-linux_x86_64.whl

RUN pip install ${wheel_filename}
CMD ["python", "./examples/misc/test_iters.py", "--game", "goofspiel", "--goofcards=6", "--p1", "oos_targeted", "--p2", "random", "--iter1", "100", "--eps", "0.4", "--delta", "0.9", "--gamma=0.01"]